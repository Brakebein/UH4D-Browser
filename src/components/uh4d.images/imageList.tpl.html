<div class="list-ctrls">
	{{$ctrl.images.length}} results
	<div class="btn-group btn-group-sm">
		<button class="btn btn-sm" ng-class="$ctrl.listMode === 'list' ? 'btn-primary' : 'btn-secondary'" ng-click="$ctrl.setListMode('list')"><i class="fa fa-th-list"></i></button>
		<button class="btn btn-sm" ng-class="$ctrl.listMode === 'cards' ? 'btn-primary' : 'btn-secondary'" ng-click="$ctrl.setListMode('cards')"><i class="fa fa-th-large"></i></button>
	</div>
</div>

<div class="list-body list-media" ng-if="$ctrl.listMode === 'list'">

	<ul class="list-unstyled">
		<li class="media border border-secondary" ng-repeat="img in $ctrl.images | limitTo:$ctrl.itemsPerPage:(($ctrl.currentPage-1)*$ctrl.itemsPerPage)" title="{{img.title}}" ng-click="$ctrl.openImage(img.id)">
			<img class="mr-3" ng-src="data/{{img.file.path + img.file.thumb}}"/>
			<div class="media-body">
				<div class="spatial-flag" ng-show="img.spatial" ng-click="$ctrl.focusImage($event, img.spatial)"><i class="fa fa-cube"></i></div>
				<div class="media-title" ng-clamp="2" ng-bind="img.title"></div>
				<p class="mb-0"><i>{{img.author || 'unknown'}} - {{img.date || 'unknown'}}</i></p>
			</div>
		</li>
	</ul>

</div>

<div class="list-body list-card" ng-if="$ctrl.listMode === 'cards'">

	<div class="card border border-secondary" ng-repeat="img in $ctrl.images | limitTo:$ctrl.itemsPerPage:(($ctrl.currentPage-1)*$ctrl.itemsPerPage)" title="{{img.title}}" ng-click="$ctrl.openImage(img.id)">
		<img class="card-img-top" ng-src="data/{{img.file.path + img.file.thumb}}"/>
		<div class="card-body">
			<div class="spatial-flag" ng-show="img.spatial" ng-click="$ctrl.focusImage($event, img.spatial)"><i class="fa fa-cube"></i></div>
			<div ng-clamp="3">{{img.title}}</div>
			<p class="card-text"><i>{{img.author || 'unknown'}} - {{img.date || 'unknown'}}</i></p>
		</div>
	</div>

</div>

<div class="list-pagination bg-light d-flex justify-content-center">

	<ul uib-pagination
		class="pagination-sm"
		ng-model="$ctrl.currentPage"
		total-items="$ctrl.images.length"
		items-per-page="$ctrl.itemsPerPage"
		max-size="5"
		boundary-link-numbers="true"
		previous-text="&laquo;"
		next-text="&raquo;"
		template-url="partials/overrides/uib.pagination.tpl.html"></ul>

</div>
